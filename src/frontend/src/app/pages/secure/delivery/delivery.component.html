<div class="grid">
    <div class="col-12">
        <div class="p-3">
            <p-card>
                <div *ngIf="delivery" class="grid">
                    <div class="col-12">
                        <div class="flex align-items-center justify-content-start">
                            <h2>{{ delivery.deliveryName }}</h2>
                        </div>

                        <div class="col-12">
                            <div class="flex align-items-center justify-content-start">
                                <span>
                                    <p-confirmPopup></p-confirmPopup>
                                    <button pButton icon="pi pi-times" *ngIf="!delivery.tripStarted"
                                        class="p-button-outlined p-button-success" label="PICKUP"
                                        (click)="onPickupClick($event)"></button>
                                </span>

                                <span class="pl-2">
                                    <button pButton icon="pi pi-times" *ngIf="!delivery.isLost"
                                        class="p-button-outlined p-button-danger" label="MARK AS LOST"
                                        (click)="onMarkAsLostClick($event)"></button>
                                </span>
                            </div>
                        </div>

                        <p>
                            <p-tag *ngIf="delivery.isLost" styleClass="ml-2 mb-1" icon="pi pi-calendar"
                                severity="danger" value="LOST">
                            </p-tag>

                            <p-tag *ngIf="!delivery.tripStarted " styleClass="ml-2 mb-1" icon="pi pi-calendar"
                                severity="warning" value="Trip not started yet">
                            </p-tag>

                            <p-tag *ngIf="delivery.tripStarted && !delivery.isDelivered" styleClass="ml-2 mb-1"
                                icon="pi pi-calendar" severity="success" value="Trip started">
                            </p-tag>

                            <p-tag *ngIf="!delivery.isDelivered" styleClass="ml-2 mb-1" icon="pi pi-calendar"
                                severity="warning" value="Not delivered">
                            </p-tag>

                            <p-tag *ngIf="delivery.isDelivered" styleClass="ml-2 mb-1" icon="pi pi-calendar"
                                severity="success" value="Delivered">
                            </p-tag>
                        </p>

                        <p class="m-0"><b>Order:</b> {{ delivery.orderName }}</p>
                        <p class="m-0"><b>Deliverer:</b> {{ delivery.delivererFullName }}</p>
                        <p class="m-0"><b>Creation Date:</b> {{ delivery.creationDate | string2Date }}</p>
                    </div>

                    <div class="col-12">
                        <p-card header="Products">
                            <ul>
                                <li *ngFor="let product of delivery.products">
                                    {{ product.name }} - {{ product.quantity }} {{ product.unit }}
                                </li>
                            </ul>
                        </p-card>
                    </div>
                </div>

            </p-card>
        </div>
    </div>
</div>